@model EPS3.ViewModels.LineItemsListViewModel

@{
    ViewData["Title"] = "Index";
}

<p>&nbsp;</p>
<div class="panel panel-default">
    <div class="panel-heading">

    </div>
    <div class="panel-body">
        <table class="table table-striped table-bordered" id="indexTable" style="width: 100%">
            @foreach (KeyValuePair<string, List<LineItemGroup>> status in Model.Encumbrances)
    {
            <thead>
                <tr>
                    <th colspan="13">
                        <h3>@status.Key</h3>
                    </th>
                </tr>
                <tr>
                    <th>
                        Line ID
                    </th>
                    <th>
                        Contract Name
                    </th>
                    <th>
                        Vendor Name (Vendor ID)
                    </th>
                    <th>
                        Financial Project Number
                    </th>
                    <th>
                        Encumbrance Status
                    </th>
                    <th>
                        Actions
                    </th>
                </tr>
            </thead>
        <tbody>
            @foreach(LineItemGroup group in status.Value){
                @foreach(LineItem item in group.LineItems){
                <tr>
                    <td>@item.LineItemID</td>
                    <td>@group.Contract.ContractNumber</td>
                    <td>@group.Contract.Vendor.VendorName (group.Contract.Vendor.VendorCode)</td>
                    <td>@item.FinancialProjectNumber</td>
                    <td>@group.CurrentStatus</td>
                    <td><a href="/Contracts/View/@group.Contract.ContractID">Edit</a></td>
                </tr>
                }
            }
        </tbody>
}
        </table>
    </div>
</div>