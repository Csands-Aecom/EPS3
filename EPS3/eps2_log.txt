2019-05-16 12:33:42.921 -04:00 [ERR] MessageService.SendEmail Error:System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions 156.75.163.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 422
2019-05-16 12:34:53.520 -04:00 [ERR] MessageService.SendEmail Error:System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions 156.75.163.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 422
2019-05-16 12:35:14.854 -04:00 [ERR] MessageService.SendEmail Error:System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions 156.75.163.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 422
2019-05-16 12:35:20.276 -04:00 [ERR] MessageService.SendEmail Error:System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions 156.75.163.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 422
2019-05-16 12:35:33.595 -04:00 [ERR] MessageService.SendEmail Error:System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions 156.75.163.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 422
2019-05-16 12:35:44.063 -04:00 [ERR] MessageService.SendEmail Error:System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions 156.75.163.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 422
2019-05-17 13:25:25.142 -04:00 [ERR] LineItemGroupsController.CloseContract  Error:System.FormatException: Input string was not in a correct format.
   at System.Number.StringToNumber(ReadOnlySpan`1 str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   at System.Number.ParseInt32(ReadOnlySpan`1 s, NumberStyles style, NumberFormatInfo info)
   at System.Int32.Parse(String s)
   at EPS3.Helpers.MessageService.SendClosingRequest(ContractClosure closure, User submitter) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 299
   at EPS3.Controllers.LineItemGroupsController.CloseContract(String closeContract) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Controllers\LineItemGroupsController.cs:line 1305
   at System.Number.StringToNumber(ReadOnlySpan`1 str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   at System.Number.ParseInt32(ReadOnlySpan`1 s, NumberStyles style, NumberFormatInfo info)
   at System.Int32.Parse(String s)
   at EPS3.Helpers.MessageService.SendClosingRequest(ContractClosure closure, User submitter) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 299
   at EPS3.Controllers.LineItemGroupsController.CloseContract(String closeContract) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Controllers\LineItemGroupsController.cs:line 1305
2019-05-17 13:43:06.323 -04:00 [ERR] MessageService.SendEmail Error:System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions 156.75.163.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 422
2019-05-17 13:43:28.289 -04:00 [ERR] MessageService.SendEmail Error:System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions 156.75.163.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 422
2019-05-17 13:54:17.350 -04:00 [ERR] MessageService.SendEmail Error:System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions 156.75.163.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 422
2019-05-17 14:19:44.967 -04:00 [ERR] LineItemGroupsController.CloseContract  Error:System.FormatException: Input string was not in a correct format.
   at System.Number.StringToNumber(ReadOnlySpan`1 str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   at System.Number.ParseInt32(ReadOnlySpan`1 s, NumberStyles style, NumberFormatInfo info)
   at System.Int32.Parse(String s)
   at EPS3.Helpers.MessageService.SendClosingRequest(ContractClosure closure, User submitter) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 299
   at EPS3.Controllers.LineItemGroupsController.CloseContract(String closeContract) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Controllers\LineItemGroupsController.cs:line 1305
   at System.Number.StringToNumber(ReadOnlySpan`1 str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   at System.Number.ParseInt32(ReadOnlySpan`1 s, NumberStyles style, NumberFormatInfo info)
   at System.Int32.Parse(String s)
   at EPS3.Helpers.MessageService.SendClosingRequest(ContractClosure closure, User submitter) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 299
   at EPS3.Controllers.LineItemGroupsController.CloseContract(String closeContract) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Controllers\LineItemGroupsController.cs:line 1305
2019-05-17 14:39:00.099 -04:00 [ERR] LineItemGroupsController.CloseContract  Error:System.FormatException: Input string was not in a correct format.
   at System.Number.StringToNumber(ReadOnlySpan`1 str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   at System.Number.ParseInt32(ReadOnlySpan`1 s, NumberStyles style, NumberFormatInfo info)
   at System.Int32.Parse(String s)
   at EPS3.Helpers.MessageService.SendClosingRequest(ContractClosure closure, User submitter) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 299
   at EPS3.Controllers.LineItemGroupsController.CloseContract(String closeContract) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Controllers\LineItemGroupsController.cs:line 1305
   at System.Number.StringToNumber(ReadOnlySpan`1 str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   at System.Number.ParseInt32(ReadOnlySpan`1 s, NumberStyles style, NumberFormatInfo info)
   at System.Int32.Parse(String s)
   at EPS3.Helpers.MessageService.SendClosingRequest(ContractClosure closure, User submitter) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 299
   at EPS3.Controllers.LineItemGroupsController.CloseContract(String closeContract) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Controllers\LineItemGroupsController.cs:line 1305
2019-05-17 16:02:35.757 -04:00 [ERR] MessageService.SendEmail Error:System.InvalidOperationException: A recipient must be specified.
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 422
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 422
2019-05-17 16:30:16.369 -04:00 [ERR] MessageService.SendEmail Error:System.InvalidOperationException: A recipient must be specified.
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients)
2019-05-17 16:36:06.269 -04:00 [ERR] LineItemGroupsController.CloseContract  Error:System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__MessageRe__Messa__3A4CA8FD". The conflict occurred in database "EPSNew", table "dbo.Messages", column 'MessageID'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:15e27b1a-598e-45fa-b3a0-0f46de678ade
Error Number:547,State:0,Class:16
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at EPS3.Helpers.MessageService.AddRecipient(Int32 msgID, User user)
   at EPS3.Helpers.MessageService.AddRecipients(Int32 msgID, IEnumerable`1 recipients)
   at EPS3.Helpers.MessageService.AddRecipients(Int32 msgID, IEnumerable`1 recipientIDs)
   at EPS3.Helpers.MessageService.SendClosingRequest(ContractClosure closure, User submitter)
   at EPS3.Controllers.LineItemGroupsController.CloseContract(String closeContract)
2019-05-17 16:36:43.394 -04:00 [ERR] LineItemGroupsController.CloseContract  Error:System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__MessageRe__Messa__3A4CA8FD". The conflict occurred in database "EPSNew", table "dbo.Messages", column 'MessageID'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:15e27b1a-598e-45fa-b3a0-0f46de678ade
Error Number:547,State:0,Class:16
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at EPS3.Helpers.MessageService.AddRecipient(Int32 msgID, User user)
   at EPS3.Helpers.MessageService.AddRecipients(Int32 msgID, IEnumerable`1 recipients)
   at EPS3.Helpers.MessageService.AddRecipients(Int32 msgID, IEnumerable`1 recipientIDs)
   at EPS3.Helpers.MessageService.SendClosingRequest(ContractClosure closure, User submitter)
   at EPS3.Controllers.LineItemGroupsController.CloseContract(String closeContract)
2019-05-17 16:38:03.377 -04:00 [ERR] LineItemGroupsController.CloseContract  Error:System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__MessageRe__Messa__3A4CA8FD". The conflict occurred in database "EPSNew", table "dbo.Messages", column 'MessageID'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:150f0304-0e41-4851-80c1-45af0957bdb6
Error Number:547,State:0,Class:16
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at EPS3.Helpers.MessageService.AddRecipient(Int32 msgID, User user)
   at EPS3.Helpers.MessageService.AddRecipients(Int32 msgID, IEnumerable`1 recipients)
   at EPS3.Helpers.MessageService.AddRecipients(Int32 msgID, IEnumerable`1 recipientIDs)
   at EPS3.Helpers.MessageService.SendClosingRequest(ContractClosure closure, User submitter)
   at EPS3.Controllers.LineItemGroupsController.CloseContract(String closeContract)
2019-05-20 16:42:36.706 -04:00 [ERR] LineItemGroupsController.AddNewEncumbrance  Error:System.NullReferenceException: Object reference not set to an instance of an object.
   at EPS3.Helpers.MessageService.GetEncumbranceTotal(LineItemGroup encumbrance) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 544
   at EPS3.Helpers.MessageService.AddMessage(String updateType, LineItemGroup encumbrance, String comments, List`1 otherRecipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 44
   at EPS3.Controllers.LineItemGroupsController.AddNewEncumbrance(String lineItemGroup, String comments) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Controllers\LineItemGroupsController.cs:line 698
   at EPS3.Helpers.MessageService.GetEncumbranceTotal(LineItemGroup encumbrance) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 544
   at EPS3.Helpers.MessageService.AddMessage(String updateType, LineItemGroup encumbrance, String comments, List`1 otherRecipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 44
   at EPS3.Controllers.LineItemGroupsController.AddNewEncumbrance(String lineItemGroup, String comments) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Controllers\LineItemGroupsController.cs:line 698
2019-05-20 16:49:44.450 -04:00 [ERR] LineItemGroupsController.AddNewEncumbrance  Error:System.NullReferenceException: Object reference not set to an instance of an object.
   at EPS3.Helpers.MessageService.GetEncumbranceTotal(LineItemGroup encumbrance) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 544
   at EPS3.Helpers.MessageService.AddMessage(String updateType, LineItemGroup encumbrance, String comments, List`1 otherRecipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 44
   at EPS3.Controllers.LineItemGroupsController.AddNewEncumbrance(String lineItemGroup, String comments) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Controllers\LineItemGroupsController.cs:line 698
   at EPS3.Helpers.MessageService.GetEncumbranceTotal(LineItemGroup encumbrance) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 544
   at EPS3.Helpers.MessageService.AddMessage(String updateType, LineItemGroup encumbrance, String comments, List`1 otherRecipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 44
   at EPS3.Controllers.LineItemGroupsController.AddNewEncumbrance(String lineItemGroup, String comments) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Controllers\LineItemGroupsController.cs:line 698
2019-05-23 21:31:14.358 -04:00 [ERR] MessageService.SendEmail Error:System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions 156.75.163.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 420
2019-05-23 21:33:07.810 -04:00 [ERR] MessageService.SendEmail Error:System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions 156.75.163.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at EPS3.Helpers.MessageService.SendMail(Message msg, List`1 recipients) in C:\Users\chris_sands\source\repos\EPS3\EPS3\Helpers\MessageService.cs:line 420
2019-05-24 09:42:39.624 -04:00 [ERR] LineItemGroupsController.CloseContract  Error:System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__MessageRe__Messa__3A4CA8FD". The conflict occurred in database "EPSNew", table "dbo.Messages", column 'MessageID'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:9d64b7bd-5fe9-44e7-81c9-715c013f3d7e
Error Number:547,State:0,Class:16
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at EPS3.Helpers.MessageService.AddRecipient(Int32 msgID, User user)
   at EPS3.Helpers.MessageService.AddRecipients(Int32 msgID, IEnumerable`1 recipients)
   at EPS3.Helpers.MessageService.AddRecipients(Int32 msgID, IEnumerable`1 recipientIDs)
   at EPS3.Helpers.MessageService.SendClosingRequest(ContractClosure closure, User submitter)
   at EPS3.Controllers.LineItemGroupsController.CloseContract(String closeContract)
